# This is Jordan's eye
### HY

## 概述
视觉识别的目标是通过用摄像头以固定时间间隔对棋盘进行拍摄，并将当前图片
与前一状态进行对比从而得到玩家落子的位置。

## 算法实现
这一块我一开始采取的策略是抠出图片中的棋盘区域，然后将棋盘区域分割为9 * 9
个子区域，然后对每个子区域中的像素点进行加和平均，并且设定两个阈值，当大于上限阈值时
判定为白子，小于下限阈值时，判定为黑子，最后输出描述局势的矩阵，然而在实际操作中我发觉这个算法有些问题，首先直接
对图片进行采样会由于图片各个区域的光照情况不同，导致固定阈值无法很好的识别落了白子和未落子区域，因为
当光照较强时，未落子区域有很大可能超过上限阈值，因此为了解决这个问题，我换了另外一种思路
，就是直接比对当前图片与前一张图片的差异，用一种类似于找不同的方法，抠出改变了的区域，即落子区域，
这里利用了一个条件就是在一定时间内，在相机的位置以及参数固定的情况下，所拍摄的图片的光照等情况也是
固定不变的。在实际的实现过程中，我用了opencv中的中值模糊以及自适应阈值的二值化这两个方法，
首先将当前图片与前一状态图片都进行中值模糊以此来降低噪声，然后将两张图片做自适应阈值二值化，得到
各自的线框图，然后将两张线框图做异或操作取出不同区域，并对结果再一次做中值模糊降噪，于是就
得到了当前落子的位置，在根据这一位置信息，找出原图上这一区域，对这一区域的像素点做加和平均，然后和设定的阈值进行
比较，大于则为白子，小于则为黑子，这样做的好处在于将原本的三值化问题转变为了二值化问题，也就避免了无法分辨
白子和未落子的问题，因为在做处理之前已经确定了这一区域落了子。

然后在读取图片获取palyer输入的过程中，我用了一个简单的忙等待解决这一问题，就是通过以固定时间间隔不断地读取当前图片
将其与前一状态进行对比，如果没有找出落子区域，则继续忙等待，若找到落子区域，如果落子的为机器人，
则更新状态，若落子的为人，则返回落子位置，并更新状态